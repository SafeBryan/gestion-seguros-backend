<h2>Solicitar Reembolso</h2>
<form [formGroup]="form" (ngSubmit)="enviar()">
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Contrato</mat-label>
    <mat-select formControlName="contratoId" required>
      <mat-option *ngFor="let contrato of contratos" [value]="contrato.id">
        {{ contrato.seguro?.nombre }} - {{ contrato.estado }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Descripción</mat-label>
    <textarea
      matInput
      formControlName="descripcion"
      rows="3"
      required
    ></textarea>
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Monto</mat-label>
    <input matInput type="number" formControlName="monto" required />
  </mat-form-field>

  <!-- Campo para subir archivo PDF -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Factura médica (PDF)</mat-label>
    <input
      type="file"
      (change)="onFileSelected($event)"
      accept="application/pdf"
    />
  </mat-form-field>

  <button
    mat-raised-button
    color="primary"
    type="submit"
    [disabled]="form.invalid || !archivoSeleccionado"
  >
    Enviar Solicitud
  </button>
</form>
